(this["webpackJsonptandem-trivia"]=this["webpackJsonptandem-trivia"]||[]).push([[0],{29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var s=n(3),i=n(0),r=n.n(i),a=n(20),c=n.n(a),o=(n(29),n(10)),u=n(11),h=n(13),l=n(12),d=n(22),j=n(1),b=n(16),v=n.n(b),x=n(21),p=n(9),f=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={error:null,isLoaded:!1,triviaItems:[],askedQuestionIds:[],currentQuestion:"",currentAnswers:[],correctAnswer:""},s.getNewTriviaQuestion=s.getNewTriviaQuestion.bind(Object(p.a)(s)),s.handleNextQuestionClick=s.handleNextQuestionClick.bind(Object(p.a)(s)),s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(x.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,e.prev=1,e.next=4,fetch("http://localhost:4444/quiz");case 4:if((t=e.sent).ok){e.next=7;break}throw Error(t.statusText);case 7:return e.next=9,t.json();case 9:n=e.sent,this._isMounted&&this.setState({isLoaded:!0,triviaItems:n.items}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0),this.setState({isLoaded:!0,error:e.t0});case 17:this.getNewTriviaQuestion();case 18:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"getNewTriviaQuestion",value:function(){var e=this.state.triviaItems,t=this.state.askedQuestionIds,n=[],s="";do{s=e[Math.floor(Math.random()*e.length)]}while(t.includes(s.id));t.push(s.id),(n=s.incorrect).push(s.correct);for(var i=n.length-1;i>0;i--){var r=Math.floor(Math.random()*i),a=n[i];n[i]=n[r],n[r]=a}this.setState({askedQuestionIds:t,currentQuestion:s.question,currentAnswers:n})}},{key:"handleNextQuestionClick",value:function(e){e.preventDefault(),this.getNewTriviaQuestion()}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"bg-blue-light w-screen h-screen flex justify-center place-items-center",children:Object(s.jsxs)("div",{className:"max-w-6xl w-full h-64 bg-gray-light",children:[Object(s.jsxs)("p",{children:["Question ",this.state.askedQuestionIds.length,"/",this.state.triviaItems.length]}),Object(s.jsx)("h2",{children:this.state.currentQuestion}),Object(s.jsxs)("ul",{children:[Object(s.jsx)("li",{children:this.state.currentAnswers[0]}),Object(s.jsx)("li",{children:this.state.currentAnswers[1]}),Object(s.jsx)("li",{children:this.state.currentAnswers[2]}),Object(s.jsx)("li",{children:this.state.currentAnswers[3]})]}),Object(s.jsx)("button",{onClick:this.handleClick,className:"bg-red",children:"Next Question"})]})})}}]),n}(r.a.Component),O=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(s.jsx)(d.a,{children:Object(s.jsx)(j.c,{children:Object(s.jsx)(j.a,{path:"/",exact:!0,component:f})})})}}]),n}(r.a.Component);c.a.render(Object(s.jsx)(O,{}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.07bda0cc.chunk.js.map